{% extends 'dashboard.html' %}
{% load static %}

{% block title %}Your Reflections | Healing Atlas{% endblock %}

{% block extra_head %}
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<div class="entries-container">
  <h1><i class="fas fa-chart-area"></i> Emotional Reflections</h1>

  {% if journal_entries %}
    {% for entry in journal_entries %}
      <div class="journal-card">
        {% if entry.image %}
          <div class="journal-image">
            <img src="{{ entry.image.url }}" alt="Journal image">
          </div>
        {% endif %}

        <div class="journal-date">
          <i class="fas fa-calendar-day"></i> {{ entry.created_at|date:"M d, Y H:i" }}
        </div>
        <div class="journal-mood">
          <strong>Mood:</strong> {{ entry.sentiment_label|title }}
        </div>
        <div class="journal-sentiment">
          <strong>Sentiment Score:</strong> {{ entry.sentiment_score|floatformat:2 }}
        </div>
        <div class="journal-text">
          {{ entry.content }}
        </div>

        <div class="journal-actions">
          <a href="{% url 'edit_entry' entry.id %}" class="edit-btn"><i class="fas fa-edit"></i> Edit</a>
          <a href="{% url 'delete_entry' entry.id %}" class="delete-btn"><i class="fas fa-trash-alt"></i> Delete</a>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p class="no-entries">No journal entries yet. Your story begins here.</p>
  {% endif %}
</div>

<div class="footer-note">Â© 2025 Healing Atlas. Your reflections are safe here.</div>
{% endblock %}
